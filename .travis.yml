language: node_js

nodoe_js:
  - node

jobs:
  include:
    - name: "3.8 test"
      python: "3.8"

install:
  - pip install pipenv

cache: npm

before_script:
  - cd graphery
  - npm install -g npm@latest
  - npm install codecov -g

script:
  - npm run build
  - rm -rf dist
  - npm run test:unit
  - cd ../backend && pipenv install && pipenv install && pipenv run pytest
